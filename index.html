<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.0" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.0" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="一把辛酸泪，满纸荒唐言">
<meta property="og:type" content="website">
<meta property="og:title" content="categories">
<meta property="og:url" content="http://yoursite.com/categories/index.html">
<meta property="og:site_name" content="胡扯大全">
<meta property="og:description" content="一把辛酸泪，满纸荒唐言">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-06-07T12:26:42.565Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="categories">
<meta name="twitter:description" content="一把辛酸泪，满纸荒唐言">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '6.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'songyuo'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/categories/">





  <title>胡扯大全</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">胡扯大全</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一把辛酸泪，满纸荒唐言</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/07/Python基础教程（第三版）（八）异常/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="songyuo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="胡扯大全">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/07/Python基础教程（第三版）（八）异常/" itemprop="url">Python基础教程（第三版）（八）异常</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-07T23:08:05+08:00">2019-06-07</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/语言基础/" itemprop="url" rel="index">
                    <span itemprop="name">语言基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>学习笔记。</p>
<h1 id="8-1-异常是什么"><a href="#8-1-异常是什么" class="headerlink" title="8.1 异常是什么"></a>8.1 异常是什么</h1><ul>
<li>Python使用异常 对象  表示异常状态，并在遇到错误时引发异常；</li>
<li>异常对象没有被捕获时，程序将终止并显示错误信息；</li>
<li>每个异常都是某个类的实例；</li>
<li>通过捕获异常，可以采取相应的措施使程序继续进行，而不是放任整个程序失败后终止。</li>
</ul>
<hr>

<h1 id="8-2-让事情沿你指定的轨道出错"><a href="#8-2-让事情沿你指定的轨道出错" class="headerlink" title="8.2 让事情沿你指定的轨道出错"></a>8.2 让事情沿你指定的轨道出错</h1><p>让错误尽在你的掌握之中。</p>
<h2 id="8-2-1-raise语句"><a href="#8-2-1-raise语句" class="headerlink" title="8.2.1 raise语句"></a>8.2.1 raise语句</h2><p>raise语句用来引发异常。raise语句的参数是一个类（必须是Exception的子类）或者是实例。当用类作为参数时，将自动创建一个实例（归根结底就是一个异常实例）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">raise Exception</span><br></pre></td></tr></table></figure>

<p>结果：<br><img src="https://upload-images.jianshu.io/upload_images/17108100-49ac063dfc9f9de2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>可以在参数后加上自己设定的相关信息。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">raise Exception(&quot;我是一个天大的错误！&quot;)</span><br></pre></td></tr></table></figure>

<p>结果：<img src="https://upload-images.jianshu.io/upload_images/17108100-7318fbceb8ceb542.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br><strong>关于异常类</strong><br>Python内置了多个异常类，了解一下：<br><img src="https://upload-images.jianshu.io/upload_images/17108100-a0b5cbc0d4761f40.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<hr>


<h2 id="8-2-2-自定义的异常类"><a href="#8-2-2-自定义的异常类" class="headerlink" title="8.2.2 自定义的异常类"></a>8.2.2 自定义的异常类</h2><p>我们可以创建自己的异常类。比如模拟宇宙飞船飞行的python程序正在运行，突然飞船内的“超光速推进装置”过载，这时候就会引发异常。为了更好地表示错误，我们不必使用python内置的类，转而创建自己的子类HyperdriverError，用它来表示“超光速推进装置”的错误，这样就会更自然一些。<br><strong>如何创建自己的异常类？</strong><br>务必要直接或者间接的继承Exception（从它的子类继承就是间接）。<br>类似于这样：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class HyperdriverError(Exception):</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure>

<hr>
#    8.3 捕获异常

<p>如果出现了异常，可以逮住它们，把它们都“做掉”。<br>类似于java中的try/catch，python中使用try/except处理异常。<br>一个🌰：比如要实现两个数相除的程序，但是如果分母为0，就会引发错误使得程序终止，我们可以捕捉ZeroDivisionError来处理异常。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">try:</span><br><span class="line">    x = int(input(&quot;请输入分子：&quot;))</span><br><span class="line">    y = int(input(&quot;请输入分母：&quot;))</span><br><span class="line">    print(x/y)</span><br><span class="line">except ZeroDivisionError:</span><br><span class="line">    print(&quot;分母不能为0！&quot;)</span><br></pre></td></tr></table></figure>

<p>结果：<br><img src="https://upload-images.jianshu.io/upload_images/17108100-d7eb1b74ee182673.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt></p>
<hr>
##  8.3.1 不用提供参数

<p>捕获了异常之后，如果想要使得异常继续向上一层传播，可以再次使用没有参数的raise重新引发异常。<br>书中的一个🌰：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Calculator:</span><br><span class="line">    muffled = False</span><br><span class="line"></span><br><span class="line">    def calc(self, expr):</span><br><span class="line">        try:</span><br><span class="line">            return eval(expr)</span><br><span class="line">        except ZeroDivisionError:</span><br><span class="line">            if self.muffled:</span><br><span class="line">                print(&quot;分母不能为0！&quot;)</span><br><span class="line">            else:</span><br><span class="line">                raise</span><br></pre></td></tr></table></figure>

<p>类中定义了一个抑制开关muffled，当开关打开时，如果发生了除零错误，异常就会被捕捉到，打印“分母不能为0！”；开关关闭时，就会重新引发异常（raise），使异常向上传播。需要注意的时，在这个例子中当异常被捕捉到时，由于函数calc没有返回值，将返回None。<br>例子的运行演示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#正常情况</span><br><span class="line"></span><br><span class="line">In [2]: calculator = Calculator()</span><br><span class="line">   ...: calculator.calc(&quot;10/2&quot;)</span><br><span class="line">Out[2]: 5.0</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#关闭抑制时</span><br><span class="line">In [3]: calculator.calc(&quot;10/0&quot;)</span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">ZeroDivisionError                         Traceback (most recent call last)</span><br><span class="line">&lt;ipython-input-3-510121f4d783&gt; in &lt;module&gt;</span><br><span class="line">----&gt; 1 calculator.calc(&quot;10/0&quot;)</span><br><span class="line">ZeroDivisionError: division by zero</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#开启抑制时</span><br><span class="line">In [4]: calculator.muffled = True</span><br><span class="line"></span><br><span class="line">In [5]: calculator.calc(&quot;10/0&quot;)</span><br><span class="line">分母不能为0！</span><br></pre></td></tr></table></figure>

<p>可以看到，关闭抑制时，异常继续向上传播，如果在上一层没有对其进行捕捉，就会引发程序错误并终止。<br>在except子句中，可以通过raise引发别的异常。在这种情况下，引发except的原始异常会作为异常<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">栗子：</span><br></pre></td></tr></table></figure></p>
<p>try:<br>    1/0<br>except ZeroDivisionError:<br>    raise ValueError(“捕捉除零异常的时候再次引发了我…”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">结果：</span><br><span class="line">![](https://upload-images.jianshu.io/upload_images/17108100-567cc111f29679a3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">可以看到，原始异常和引发的异常都显示到了最终的消息当中。</span><br><span class="line">可以通过**raise...from...**提供自己的上下文，也可以用None禁用上下文。</span><br><span class="line">栗子：</span><br></pre></td></tr></table></figure>

<p>try:<br>    1/0<br>except ZeroDivisionError:<br>    raise ValueError(“捕捉除零异常的时候再次引发了我…”) from ValueError</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">结果：</span><br><span class="line">![](https://upload-images.jianshu.io/upload_images/17108100-90075dddf1a02419.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br></pre></td></tr></table></figure>

<p>try:<br>    1/0<br>except ZeroDivisionError:<br>    raise ValueError(“捕捉除零异常的时候再次引发了我…”) from None</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">结果：</span><br><span class="line">![](https://upload-images.jianshu.io/upload_images/17108100-b929b2889ebc67f9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">## 8.3.2 多个Except字句</span><br><span class="line">在8.3节下的示例中，只捕获了除零异常，如果用户输入了非数字，会引发TypeError，使程序发生错误终止，因此可以这样写：</span><br></pre></td></tr></table></figure>

<p>try:<br>    x = int(input(“请输入分子：”))<br>    y = int(input(“请输入分母：”))<br>    print(x/y)<br>except ZeroDivisionError:<br>    print(“分母不能为0！”)<br>except TpyeError:<br>    print(“必须输入数字！”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">这样就可以处理多个异常情况。相比频繁使用if，利用异常机制可以使代码更整洁。</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">## 8.3.3 一箭双雕</span><br><span class="line">可以用括号把想要捕捉的异常写进一个元组，这样就不用频繁地去写except子句了。</span><br></pre></td></tr></table></figure>

<p>try:<br>    x = int(input(“请输入分子：”))<br>    y = int(input(“请输入分母：”))<br>    print(x/y)<br>except (ZeroDivisionError, TypeError, NameError):<br>    print(“输入错误！”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">当然，缺点是每种错误都会打印同一种信息。</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">## 8.3.4 捕获对象</span><br><span class="line">为了弥补上面的缺陷，可以显式的捕捉异常，然后打印此类异常的相关信息：</span><br></pre></td></tr></table></figure>

<p>try:<br>    x = int(input(“请输入分子：”))<br>    y = int(input(“请输入分母：”))<br>    print(x/y)<br>except (ZeroDivisionError, TypeError, NameError) as e:<br>    print(e)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;hr/&gt;</span><br><span class="line">## 8.3.5 一网打尽</span><br><span class="line">不指定异常类，就会捕捉所有的错误：</span><br></pre></td></tr></table></figure>

<p>try:<br>    x = int(input(“请输入分子：”))<br>    y = int(input(“请输入分母：”))<br>    print(x/y)<br>except:<br>    print(“出现了一些错误”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">这样做并不能知道发生了什么错误，最好还是显式捕捉错误Exception as e然后打印之。</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">## 8.3.6 万事大吉时</span><br><span class="line">可以添加```else```语句，如果程序正常运行，那么```else```中的语句就会被执行：</span><br></pre></td></tr></table></figure>

<p>try:<br>    print(“正在执行…”)<br>except Exception as e:<br>    print(e)<br>else:<br>    print(“执行顺利！”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">结果：</span><br><span class="line">![](https://upload-images.jianshu.io/upload_images/17108100-8047c101782877e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">利用else语句可以对上面的程序进行改良，如果用户输入有误，会让用户重复输入，直到对了为止：</span><br></pre></td></tr></table></figure>

<p>while True:<br>    try:<br>        x = int(input(“请输入分子：”))<br>        y = int(input(“请输入分母：”))<br>        print(x / y)<br>    except Exception as e:<br>        print(e)<br>    else:<br>        break</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">运行：![](https://upload-images.jianshu.io/upload_images/17108100-efdfad36afb050a6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">敲代码的时候犯了一个错误，写成了While(True)，不应该加括号。</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line">## 8.3.7 最后</span><br><span class="line">还有**finally**子句，可用于在发生异常时执行清理工作，这个子句通常是与try配套的，无论try中发生什么异常，**最终都会执行**finally子句。</span><br><span class="line">书中的栗子：</span><br><span class="line">```x = None</span><br><span class="line">try:</span><br><span class="line">    x = 1/0</span><br><span class="line">finally:</span><br><span class="line">    print(&quot;正在执行finally&quot;)</span><br><span class="line">    del x</span><br></pre></td></tr></table></figure>

<p>结果：<br><img src="https://upload-images.jianshu.io/upload_images/17108100-9b92d7d5e74caba2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt><br>为什么要初始化x为None呢，因为在执行1/0时，由于发生了异常，值不会赋给x，而x又没有初始化，所以在del x时又会引发新的异常。<br>可以把<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;hr/&gt;</span><br><span class="line"></span><br><span class="line"># 8.4 异常和函数</span><br><span class="line">函数中的异常会一层一层向上传递（到调用它的地方），如果都没有被处理，程序就会终止并打印TraceBack（栈追踪）信息。</span><br><span class="line">栗子：</span><br></pre></td></tr></table></figure></p>
<p>def faulty():<br>    raise Exception(“Something is wrong…”)<br>def no_handle():<br>    faulty()<br>def handle_exception():<br>    try:<br>        faulty()<br>    except:<br>        print(“Exception handled”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">运行no_handle():</span><br></pre></td></tr></table></figure>

<p>no_handle()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">结果：![](https://upload-images.jianshu.io/upload_images/17108100-efbfac1a084606e1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">运行handle_exception():</span><br></pre></td></tr></table></figure>

<p>handle_exception()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">结果：![](https://upload-images.jianshu.io/upload_images/17108100-be403cc86f1f5c89.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">并不会打印栈追踪信息，而是执行except子句。</span><br><span class="line">自己瞎折腾：</span><br></pre></td></tr></table></figure>

<p>def faulty():<br>    raise Exception(“Something is wrong…”)<br>def no_handle():<br>    try:<br>        faulty()<br>        print(“555”)<br>    except:<br>        print(“666”)<br>def handle_exception():<br>    try:<br>        no_handle()<br>        print(“777”)<br>    except:<br>        print(“888”)<br>handle_exception()</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">结果：</span><br><span class="line">![](https://upload-images.jianshu.io/upload_images/17108100-21d9d6f78cafea81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">- 可以看出来，异常如果在某一层被捕捉，就不会再向上传递，所以打印出了666，而非888；</span><br><span class="line">- 在try中如果出现了错误，那么try中剩下的代码就不会再执行，所以没有打印555；</span><br><span class="line">- 在try中调用函数，如果被调用的函数中出现了异常但是已经在函数内部捕捉到，那么就不会向上传递，因此try依然会被执行下去，所以打印777.</span><br><span class="line">&lt;hr/&gt;</span><br><span class="line"># 8.5 异常之禅</span><br><span class="line">两段代码：</span><br></pre></td></tr></table></figure>

<p>def describe_person(person):<br>    print(‘Description of’, person[‘name’])<br>    print(‘Age:’, person[‘age’])<br>    if ‘occupation’ in person:<br>       print(‘Occupation:’, person[‘occupation’]) </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输出：![](https://upload-images.jianshu.io/upload_images/17108100-1dcf2d29dedf28c6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br></pre></td></tr></table></figure>

<p>def describe_person(person):<br>    print(‘Description of’, person[‘name’])<br>    print(‘Age:’, person[‘age’])<br>    try:<br>        print(‘Occupation:’, person[‘occupation’])<br>    except KeyError: pass </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">输出：![](https://upload-images.jianshu.io/upload_images/17108100-30dbfd2a7cec18ee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">其中的person是一个字典，里面有姓名、年龄，可能有职业。</span><br><span class="line">第二中代码效率更高些（高一点点），因为少筛查了一边occupation。</span><br><span class="line">主要就是讲，要养成使用try/except的习惯，这样有时候会比使用其它的方法更加简洁高效。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;hr/&gt;</span><br><span class="line"># 8.6 不那么异常的情况</span><br><span class="line">使用warn()引发一条警告，程序 不会被终止：</span><br></pre></td></tr></table></figure>

<p>from warnings import warn<br>warn(“This is just a warning”)<br>print(“go”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">结果：![](https://upload-images.jianshu.io/upload_images/17108100-3e45a8bf654e7390.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">可以使用警告过滤filterwarnings()来忽略掉警告，或者将警告升高到异常。</span><br><span class="line">比如：</span><br></pre></td></tr></table></figure>

<p>from warnings import filterwarnings<br>filterwarnings(“ignore”)<br>warn(“I will be ignored”)<br>filterwarnings(“error”)<br>warn(“I won`t be ignored”)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">结果：![](https://upload-images.jianshu.io/upload_images/17108100-608d8081f0788fc1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br><span class="line">警告也有类型，但都是Warning的子类，而Warning又是Exception的子类。发出或者过滤警告时可以指定类型：</span><br></pre></td></tr></table></figure>

<p>filterwarnings(“default”, category=DeprecationWarning)<br>warn(“This Function is really old….”, DeprecationWarning)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">结果：</span><br><span class="line">![](https://upload-images.jianshu.io/upload_images/17108100-55491c9fb368916d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)</span><br></pre></td></tr></table></figure>

<p>filterwarnings(“ignore”, category=DeprecationWarning)<br>warn(“This Function is really old….”, DeprecationWarning)<br>warn(“I am not a DeprecationWarning…”)</p>
<pre><code>结果：
![](https://upload-images.jianshu.io/upload_images/17108100-a6557f924fa1c981.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
关于warnings，更详细的内容请见[Python文档](https://docs.python.org/3.7/library/warnings.html#)

&lt;hr/&gt;
# 8.7 小结

1. 异常对象：异常情况使用异常对象表示的，对于异常情况，有多种处理方式；如果忽略，将导致程序终止。
2. 引发异常：使用raise来引发异常。可指定参数来重新引发新的异常，如果没有指定参数，将重新引发该子句捕捉的异常。
3. 自定义异常类：可以通过Exception派生创建自定义异常类。
4. 捕获异常：使用except来捕获异常。如果没有要捕获的类，将捕获所有异常。可以指定多个异常类，方法是把它们放在元组中。在同一个try/except中，可以包含多个except子句。
5. else： try没有引发异常时执行else中的子句。
6. finally：无论是否引发异常都将会执行。
7. 异常和函数：在函数中引发异常时，异常会传播到调用它的函数。
8. 警告：警告类似于异常，但（通常）只打印一条错误消息。你可以指定错误类别，它们是warning的子类。


&lt;hr&gt;
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/07/Python基础教程（第三版)  （七）再谈抽象 /">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="songyuo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="胡扯大全">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/07/Python基础教程（第三版)  （七）再谈抽象 /" itemprop="url">Python基础教程（第三版) （七）再谈抽象</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-07T22:55:05+08:00">2019-06-07</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/语言基础/" itemprop="url" rel="index">
                    <span itemprop="name">语言基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <center>**再谈抽象**</center>

<br>





	<div class="row">
    <embed src="6.pdf" width="100%" height="550" type="application/pdf">
	</div>


 


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/07/Python基础教程（第三版）（六）抽象/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="songyuo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="胡扯大全">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/07/Python基础教程（第三版）（六）抽象/" itemprop="url">Python基础教程（第三版）（六）抽象</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-07T21:55:05+08:00">2019-06-07</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/语言基础/" itemprop="url" rel="index">
                    <span itemprop="name">语言基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><em>一个菜鸡的挣扎</em><br><em>就总结下</em><br>and <em>如果有大佬不小心看到了发现了错误，就欢迎指正</em></p>
<h1 id="6-1懒惰是一种美德"><a href="#6-1懒惰是一种美德" class="headerlink" title="6.1懒惰是一种美德"></a>6.1懒惰是一种美德</h1><p>通过创建函数以调用之可以减少代码量</p>
<h1 id="6-2-抽象和结构"><a href="#6-2-抽象和结构" class="headerlink" title="6.2 抽象和结构"></a>6.2 抽象和结构</h1><blockquote>
<p>抽象是程序能够被人理解的关键所在（无论对编写程序还是阅读来说，这都至关重要）</p>
</blockquote>
<p>函数封装了人不需要关心的实现细节，从而更容易被使用和理解</p>
<h1 id="6-3-自定义函数"><a href="#6-3-自定义函数" class="headerlink" title="6.3 自定义函数"></a>6.3 自定义函数</h1><h2 id="6-3-1-给函数编写文档"><a href="#6-3-1-给函数编写文档" class="headerlink" title="6.3.1 给函数编写文档"></a>6.3.1 给函数编写文档</h2><p>在def后面添加字符串，相当于给整个函数添加注释，以确保被人理解<br> <em>_doc</em> _是函数的一个属性，可用它来访问函数的文档字符串<br>我自己的练习：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def lalala(x):</span><br><span class="line">    &quot;&quot;&quot;就瞎写的&quot;&quot;&quot;</span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line">print(lalala.__doc__)</span><br></pre></td></tr></table></figure>

<p>结果：<br><img src="17108100-67e3852c05c06c7c.png" alt="运行结果"><br>这里书上说用单引号，但是pycharm中会有提示，要让用连续的三个双引号<br>help()函数可访问有关函数的信息，其中会包含函数的文档字符串</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">In [1]: help(round)</span><br><span class="line">Help on built-in function round in module builtins:</span><br><span class="line"></span><br><span class="line">round(...)</span><br><span class="line">    round(number[, ndigits]) -&gt; number</span><br><span class="line"></span><br><span class="line">    Round a number to a given precision in decimal digits (default 0 digits).</span><br><span class="line">    This returns an int when called with one argument, otherwise the</span><br><span class="line">    same type as the number. ndigits may be negative.</span><br></pre></td></tr></table></figure>

<h2 id="6-3-2-其实并不是函数的函数"><a href="#6-3-2-其实并不是函数的函数" class="headerlink" title="6.3.2 其实并不是函数的函数"></a>6.3.2 其实并不是函数的函数</h2><p>就是有的函数没有return 或者return后面没有指定值，这么做将会返回None</p>
<h1 id="6-4-参数魔法"><a href="#6-4-参数魔法" class="headerlink" title="6.4 参数魔法"></a>6.4 参数魔法</h1><h2 id="6-4-1-值从哪里来-略"><a href="#6-4-1-值从哪里来-略" class="headerlink" title="6.4.1 值从哪里来 略"></a>6.4.1 值从哪里来 略</h2><h2 id="6-4-2-我能修改参数吗"><a href="#6-4-2-我能修改参数吗" class="headerlink" title="6.4.2 我能修改参数吗"></a>6.4.2 我能修改参数吗</h2><p>可变参数可以，不可变参数不可以<br>如果不想让可变参数的值在调用函数后发生变化，可以向函数中传递切片或者用copy()传递副本（如果有copy()的话）<br>自己的练习：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def change(n):</span><br><span class="line">    n[0] = &apos;a&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = [1, 2, 3]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">change(x)</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>

<p>结果;<br><img src="17108100-4c15f297e1019ed1.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">change(x[:])</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>

<p>结果：<br><img src="17108100-06682b1d3f3a17d1.png" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">change(x.copy())</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>

<p>结果：<br><img src="17108100-7d8ec6306fb82aa0.png" alt><br>如果想让不可变参数发生变化，可以使之重新指向返回的值，或者干脆把它放在列表中</p>
<h2 id="6-4-3-关键字参数和默认值"><a href="#6-4-3-关键字参数和默认值" class="headerlink" title="6.4.3 关键字参数和默认值"></a>6.4.3 关键字参数和默认值</h2><p>这个部分之前看过了，少总结下</p>
<blockquote>
<p>像这种用名称指定的参数称为关键字参数，主要优点是有助于澄清各个参数的作用。</p>
</blockquote>
<p>关键字参数在传入时的顺序与定义时的不一样也没关系，反正有关键字程序不会认错<br>可以为关键字参数设置默认值，如果在调用该参数没有传入，就使用默认值<br><strong>位置参数不可定义在关键字参数后面！</strong><br>关键字好像只能是字符串，我的试验：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def test(*a, **b):</span><br><span class="line">    print(a, b)</span><br><span class="line"></span><br><span class="line">b = &#123;1: &apos;a&apos;, 2:&apos;b&apos;&#125;</span><br><span class="line">test(1, **b)</span><br></pre></td></tr></table></figure>

<p>然后会报错：</p>
<p><img src="17108100-e6ca9fbc25ff2eae.png" alt></p>
<h2 id="6-4-4-收集参数"><a href="#6-4-4-收集参数" class="headerlink" title="6.4.4 收集参数"></a>6.4.4 收集参数</h2><p>带星号的参数会收集多余的值，放在元组中<br><strong>一个星号不会收集关键字参数！若想收集，可带两个星号，这样会得到字典而非数组</strong><br>位置参数最好不要放在星号参数后面，虽然指定名称也可以调用</p>
<h2 id="6-4-5-分配参数"><a href="#6-4-5-分配参数" class="headerlink" title="6.4.5 分配参数"></a>6.4.5 分配参数</h2><p>类似于序列解包，可大致理解为与收集参数相反的操作</p>
<h1 id="6-5-作用域"><a href="#6-5-作用域" class="headerlink" title="6.5 作用域"></a>6.5 作用域</h1><ul>
<li>vars()函数 ，返回作用域中看不见的字典，最好不要使用它修改字典中的值，因为其结果是不确定的</li>
<li>在函数中读取全局变量而非访问它，一般不会造成任何问题，但这样通常会不小心写出Bug</li>
<li>如果局部变量与全局变量重名，必要时可使用globals（）[‘变量名’]来访问它，globals()类似于vars（），也返回一个字典</li>
<li>在函数中定义变量时，可在前面加入global 来声明它是全局变量</li>
<li>作用域嵌套，可在函数中再定义函数，并用return返回这个函数</li>
</ul>
<p><strong>在函数中访问全局变量：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 在函数中访问全局变量</span><br><span class="line">y = &apos;全局&apos;</span><br><span class="line">def test(x):</span><br><span class="line">    print(x+y)</span><br><span class="line">test(&apos;局部&apos;)</span><br></pre></td></tr></table></figure>

<p>结果：<img src="17108100-743464065e7b5bbf.png" alt="在函数中访问全局变量"><br><strong>PS：做作业时发现np.array不用gobal关联也会变化，于是猜测，可变变量似乎不用关联也会变化</strong></p>
<p><strong>如果局部变量与全局变量重名：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 如果局部变量与全局变量重名</span><br><span class="line">y = &apos;全局&apos;</span><br><span class="line">def test(y):</span><br><span class="line">    print(y+globals()[&apos;y&apos;])</span><br><span class="line">test(&apos;局部&apos;)</span><br></pre></td></tr></table></figure>

<p>结果同上<br><strong>重新关联全局变量:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 重新关联全局变量</span><br><span class="line">y = &apos;全局&apos;</span><br><span class="line">def test():</span><br><span class="line">    global y</span><br><span class="line">    y = &apos;我变了&apos;</span><br><span class="line">test()</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>

<p>结果：<img src="17108100-a52362afc531f6e6.png" alt="重新关联全局变量"><br><strong>关于作用域嵌套：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [2]: def first(x):</span><br><span class="line">   ...:     def second(y):</span><br><span class="line">   ...:         return y**x</span><br><span class="line">   ...:     return second</span><br><span class="line">   ...: fun = first(2)</span><br><span class="line">   ...: fun(2)</span><br><span class="line">Out[2]: 4</span><br></pre></td></tr></table></figure>

<h1 id="6-6-递归"><a href="#6-6-递归" class="headerlink" title="6.6 递归"></a>6.6 递归</h1><p>这个就不说了</p>
<h1 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h1><ul>
<li><p>主要说了map，filter，reduce，lambda</p>
</li>
<li><p>在较新的python版本中，可以用列表推导代替map和filter</p>
</li>
<li><p>map:对列表中所有元素执行函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">In [3]: list(map(str,range(10)))</span><br><span class="line">Out[3]: [&apos;0&apos;, &apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;]</span><br><span class="line"></span><br><span class="line">In [4]: # 与下面等价</span><br><span class="line"></span><br><span class="line">In [5]: [str(i) for i in range(10)]</span><br><span class="line">Out[5]: [&apos;0&apos;, &apos;1&apos;, &apos;2&apos;, &apos;3&apos;, &apos;4&apos;, &apos;5&apos;, &apos;6&apos;, &apos;7&apos;, &apos;8&apos;, &apos;9&apos;]</span><br></pre></td></tr></table></figure>
</li>
<li><p>filter: 对序列中元素执行函数，若为结果真，把它添加到最终要返回的列表中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">In [6]: def  fun(x):</span><br><span class="line">   ...:     return x.isalnum()</span><br><span class="line">   ...: list(filter(fun,[&apos;fdas&apos;,&apos;fdsa3&apos;,&apos;1*&amp;&apos;]))</span><br><span class="line">Out[6]: [&apos;fdas&apos;, &apos;fdsa3&apos;]</span><br><span class="line"># 与[x for x in [....] if x.isalnum] 等价</span><br></pre></td></tr></table></figure>
</li>
<li><p>reduce: 这个还是看例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">In [1]: from functools import reduce</span><br><span class="line">In [2]: reduce(lambda x,y: x+y, [1,2,3,4,5,6,7,8,9])</span><br><span class="line">Out[2]: 45</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>lambda的作用很明显了</p>
<h2 id="补充："><a href="#补充：" class="headerlink" title="补充："></a>补充：</h2><blockquote>
<p>通常，不能给外部作用域内的变量赋值，但如果一定要这样做，可使用关键字nonlocal。这个关键字的用法与global很像，让你能够给外部作用域（<strong>非全局作用域</strong>）内的变量赋值。</p>
</blockquote>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>抽象、函数定义、函数传参、作用域、函数式编程（主要是函数式编程工具，用以代替定义函数）<br>完了，希望不是在做无用功</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/06/07/汇编语言自学记录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="songyuo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="胡扯大全">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/06/07/汇编语言自学记录/" itemprop="url">汇编语言自学记录</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-06-07T20:41:05+08:00">2019-06-07</time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/其它基础/" itemprop="url" rel="index">
                    <span itemprop="name">其它基础</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>记录一下学习过程，以后遗忘了也方便复习。<br>学习方法：<a href="https://www.bilibili.com/video/av34455803" target="_blank" rel="noopener">b站视频</a> + 汇编语言教材（王爽第3版），视频中用到的工具在 <a href="https://pan.baidu.com/s/1EfNaQOxSYfYg8V5KZFQahw" target="_blank" rel="noopener">百度网盘</a> (提取码: 7evz)中。</p>
<hr>


<h1 id="1-相关软件的安装"><a href="#1-相关软件的安装" class="headerlink" title="1  相关软件的安装"></a>1  相关软件的安装</h1><p>主要是用到了DOSbox和Vim，工具都在网盘中。</p>
<h5 id="配置DOSbox"><a href="#配置DOSbox" class="headerlink" title="配置DOSbox"></a>配置DOSbox</h5><ol>
<li>在D盘中新建一个asm的文件夹，以后在这个文件夹中建立文件练习；</li>
<li>将网盘中的debug.exe放在asm文件夹下；</li>
<li>运行安装程序，一直next即可；</li>
<li>找到安装目录C:\Users\Administrator\AppData\Local\DOSBox，编辑配置文件，在最下面添加mount c: d:\asm  和 c:，如下图；这样每次开启软件就可以自动运行命令进入目录，不用手动输入了； </li>
<li>运行DOSbox，键入debug，再键入d，就可以使用了。</li>
</ol>
<p><img src="17108100-3fe1d1dfc3e6561d.png" alt></p>
<h5 id="配置Vim"><a href="#配置Vim" class="headerlink" title="配置Vim"></a>配置Vim</h5><ol>
<li>安装Vim，一直next就好；</li>
<li>找到安装目录，C:\Program Files (x86)\Vim，编辑配置文件，加入<blockquote>
<p>color evening<br>set nu</p>
</blockquote>
</li>
</ol>
<p>这样就可以调成黑色背景并显示行号了。</p>
<h5 id="编译小练习"><a href="#编译小练习" class="headerlink" title="编译小练习"></a>编译小练习</h5><ol>
<li><p>将网盘中的LINK.exe，MASM.exe，temp.txt，temp1.txt拷贝至asm文件夹内，并新建t1.asm把temp.txt中的内容复制进去；</p>
</li>
<li><p>进入DOSbox配置文件，在底部加入</p>
<blockquote>
<p>masm t1;<br>link t1;</p>
</blockquote>
</li>
<li><p>打开DOSbox，即可自动完成编译和连接，asm文件夹内会出出现t1.obj和t1.exe;</p>
</li>
<li><p>在DOSbox中键入t1，发现屏幕中出现紫色小区域，表示exe运行成功。</p>
</li>
</ol>
<p><img src="17108100-cda2990655ee2626.png" alt></p>
<hr>


<h1 id="2-关于编码"><a href="#2-关于编码" class="headerlink" title="2 关于编码"></a>2 关于编码</h1><p><strong>编码是人类观测世界的方式</strong><br>希腊人是如何用地图表示世界地位置的？<br>用纬度和经度表示。<br>人类是如何表示长度的？<br>有各种单位，如米、厘米、英寸…….<br>人类是如何表示时间的?<br>年、月、日、时、分、秒…….<br>人类是如何表示天上的星星的？<br>有各种星座，金牛座、处女座、猎户座，即用图形表示星星之间的相对位置。<br>以上各种，都是一种编码系统，都是人类对世界的表示。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">songyuo</p>
              <p class="site-description motion-element" itemprop="description">一把辛酸泪，满纸荒唐言</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">songyuo</span>

  

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Mist</a> v6.0.0</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.0"></script>



  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
